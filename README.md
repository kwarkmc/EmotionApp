# ë””ì§€í„¸ ë°œìì·¨ë¥¼ ì´ìš©í•œ ê°ì • ì¼€ì–´ í”Œë«í¼

<div align="center">
<img width="329" alt="image" src="https://github.com/kwarkmc/HelpDefault/blob/main/templates/defal.jpg?raw=true">

[![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fkwarkmc%2FEmotionApp&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false)](https://hits.seeyoufarm.com)

</div>

# EmotionApp
> **í•œì–‘ëŒ€í•™êµ ERICA ì „ìê³µí•™ë¶€ 2023ë…„ë„ ìº¡ìŠ¤í†¤ ë””ìì¸ 2 ê²°ê³¼ë¬¼** <br/> **íŒ€ í•«ë‘˜ì…‹ì–**

## íŒ€ ë©¤ë²„ ì†Œê°œ

|      18í•™ë²ˆ ê³½ë¯¼ì°½       |          18í•™ë²ˆ ê¹€ì§€í˜¸         |          18í•™ë²ˆ ì´ìŠ¹ë ¬         |
|:---:|:---:|:---:|
   <img width="320px" src="https://avatars.githubusercontent.com/u/41298500?v=4" />|<img width="320px" src="https://avatars.githubusercontent.com/u/124140035?v=4" />|<img width="320px" src="https://avatars.githubusercontent.com/u/124139834?v=4" />|
|   [@kwarkmc](https://github.com/kwarkmc)   |    [@kjh-0523](https://github.com/kjh-0523)  |    [@leeseungry](https://github.com/leeseungry)  |
| í•œì–‘ëŒ€í•™êµ ERICA ì „ìê³µí•™ë¶€      4í•™ë…„ | í•œì–‘ëŒ€í•™êµ ERICA ì „ìê³µí•™ë¶€     4í•™ë…„ | í•œì–‘ëŒ€í•™êµ ERICA ì „ìê³µí•™ë¶€     4í•™ë…„ |

## í•œì–‘ëŒ€í•™êµ ERICA ì „ìê³µí•™ë¶€ 2023ë…„ë„ ìº¡ìŠ¤í†¤ ë””ìì¸ 2

**í•œì–‘ëŒ€í•™êµ ERICA ê³µí•™ëŒ€í•™ ì „ìê³µí•™ë¶€** ì—ì„œ 22ë…„ë„ 2í•™ê¸° ~ 23ë…„ë„ 1í•™ê¸°ì— ê±¸ì³ ê°œë°œí•œ ì¡¸ì—… ì‘í’ˆ ë° ê²°ê³¼ë¬¼. í†µì‹  íŠ¸ë™ Hu Jin êµìˆ˜ë‹˜ ì§€ë„í•˜ì— í”„ë¡œì íŠ¸ê°€ ì§„í–‰ë˜ì—ˆìœ¼ë©°, í†µì‹  íŠ¸ë™ ë‚´ì—ì„œ ì§„í–‰í•œ ìº¡ìŠ¤í†¤ ê²½ì§„ ëŒ€íšŒë¥¼ í†µí•´ ì¶œí’ˆ ë° ê²°ê³¼ë¬¼ PTë¥¼ ì§„í–‰í•˜ì˜€ë‹¤.

## í”„ë¡œì íŠ¸ ì†Œê°œ

í•™íšŒë°©ì— ë°°ì¹˜ë˜ì–´ ìˆëŠ” ê°ì¢… ê³µêµ¬ ë° ì†Œìë¥¼ ì‹ ê·œ í•™íšŒì›ë“¤ë¡œ í•˜ì—¬ê¸ˆ ì„ ë°°ë“¤ì˜ ë„ì›€ ì—†ì´ ì‰½ê³  ê°„í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì‚¬ìš©ì„ ë•ê³ , ê¸ˆë°© ë”ëŸ¬ì›Œì§€ëŠ” í•™íšŒë°©ì„ ê¹¨ë—í•˜ê²Œ ìœ ì§€í•˜ê³  ê³µêµ¬ ë° ì†Œìë¥¼ ë¶„ì‹¤í•˜ì§€ ì•Šë„ë¡ ì •ë¦¬ë¥¼ ë•ëŠ” ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí–ˆë‹¤.

ì§ì ‘ í•™íšŒë°©ì— ìˆëŠ” ê°ì¢… ê³µêµ¬ ë° ì†Œìì˜ ì‚¬ì§„ì„ ì—¬ëŸ¬ ê°ë„ ë° í˜•íƒœì— ë”°ë¼ ë‹¤ì–‘í•˜ê²Œ ì´¬ì˜í•˜ì—¬ 11ê°œì˜ Labelì— ëŒ€í•´ **Custom DataSet**ì„ êµ¬ì„±í•˜ì—¬ í•™ìŠµì— ì‚¬ìš©í•˜ì˜€ë‹¤.

ë¹ ë¥¸ í•™ìŠµ ë° ë†’ì€ Accuracyë¥¼ ìœ„í•˜ì—¬ VGG-16 Model ì˜ Pre-Trained ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ **ì „ì´í•™ìŠµ (Transfered - Learning)** ì„ í™œìš©í•˜ì—¬ ë°ì´í„°ë¥¼ í•™ìŠµí•˜ì˜€ë‹¤.

## ì‹œì‘ ê°€ì´ë“œ ğŸš©
### Requirements
For building and running the application you need:

- [Anaconda3](https://www.anaconda.com/download/)
- [Pytorch 2.0](https://pytorch.org/)
- [Jupyter Notebook](https://jupyter.org/)
- [Pycharm](https://www.jetbrains.com/ko-kr/pycharm/download/#section=windows)

### Installation
``` bash
$ git clone git@github.com:kwarkmc/EmotionApp.git
$ cd EmotionApp
```
#### ì„œë²„ ì‹¤í–‰
``` bash
$ python ./multiserver.py
$ python ./pipeLine.py
```
#### ì˜¤ë””ì˜¤ ë°ì´í„° ì „ì²˜ë¦¬
``` bash
$ python ./Audio_preprocess.py
```
#### ëª¨ë¸ í•™ìŠµ
``` bash
$ python ./Audio_model.py # ìŒì„± ëª¨ë¸ í•™ìŠµ
$ python ./Text_model.py # í…ìŠ¤íŠ¸ ëª¨ë¸ í•™ìŠµ
```

---

## Stacks ğŸ“š

### Environment
![Anaconda](https://img.shields.io/badge/Anaconda-%2344A833.svg?style=for-the-badge&logo=anaconda&logoColor=white)
![Jupyter Notebook](https://img.shields.io/badge/jupyter-%23FA0F00.svg?style=for-the-badge&logo=jupyter&logoColor=white)
![PyCharm](https://img.shields.io/badge/pycharm-143?style=for-the-badge&logo=pycharm&logoColor=black&color=black&labelColor=green)
![Visual Studio Code](https://img.shields.io/badge/Visual%20Studio%20Code-0078d7.svg?style=for-the-badge&logo=visual-studio-code&logoColor=white)
![Git](https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white)
   

### Framework
![PyTorch](https://img.shields.io/badge/PyTorch-%23EE4C2C.svg?style=for-the-badge&logo=PyTorch&logoColor=white)
![NumPy](https://img.shields.io/badge/numpy-%23013243.svg?style=for-the-badge&logo=numpy&logoColor=white)
![Pandas](https://img.shields.io/badge/pandas-%23150458.svg?style=for-the-badge&logo=pandas&logoColor=white)

### Development
![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)
![HTML5](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white)
![Flask](https://img.shields.io/badge/flask-%23000.svg?style=for-the-badge&logo=flask&logoColor=white)

### Communication
![Microsoft PowerPoint](https://img.shields.io/badge/Microsoft_PowerPoint-B7472A?style=for-the-badge&logo=microsoft-powerpoint&logoColor=white)
![Github](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white)          

---
## RESULT ğŸ“º
| Loss Graph  |  Accuracy Graph   |
| :-------------------------------------------: | :------------: |
|  <img width="329" src="https://github.com/kwarkmc/HelpDefault/blob/main/Document/pic/Loss.png?raw=true"/> |  <img width="329" src="https://github.com/kwarkmc/HelpDefault/blob/main/Document/pic/acc.png?raw=true"/>|  
| Flask APIë¥¼ ì´ìš©í•˜ì—¬ ì›¹ì„œë²„ êµ¬í˜„   |  RESULT   |  
| <img width="329" src="https://github.com/kwarkmc/HelpDefault/blob/main/Document/pic/flask.png?raw=true"/>   |  <img width="329" src="https://github.com/kwarkmc/HelpDefault/blob/main/Document/pic/result.png?raw=true"/>     |

> VGG-16ì˜ Pretrained ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì´í•™ìŠµì„ ì§„í–‰í–ˆê¸° ë•Œë¬¸ì— AccuracyëŠ” 2 epoch ë§Œì—, val_accuracy ë˜í•œ 8 epoch ë§Œì— ì¢‹ì€ ê°’ì„ ë§Œë“¤ì–´ë‚´ê³  ìˆë‹¤.
---
## ì£¼ìš” ê¸°ëŠ¥ ğŸ“¦

### â— Custom DataSetì„ í´ë”ì—ì„œ Open í•˜ì—¬ Dataì™€ Labelë¡œ ì¤€ë¹„
- ê° í´ë” (t1 ~ t11) ì— Labeling ë˜ì–´ìˆê³ , OS APIë¥¼ Import í•˜ì—¬ 11ê°œì˜ ë¼ë²¨ì— ë§ì¶° ë³‘í•©
- í•™ìŠµì— ì‚¬ìš©í•˜ê¸° ìœ„í•´ `data.Dataset` ë¥¼ ì´ìš©í•˜ì—¬ `DefaultDataset` Class ë¥¼ ë§Œë“¤ì–´ Batch Sizeë¡œ ë°ì´í„°ë¥¼ ìª¼ê°œì„œ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•¨ìœ¼ë¡œì„œ í•™ìŠµì„ ì§„í–‰í•˜ëŠ” PCì˜ ë©”ëª¨ë¦¬ ì œí•œì— ì¢€ ë” ìœ ì—°í•˜ê²Œ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
- train / Test / Validation ë°ì´í„°ë¥¼ `DefaultDataset` Classë¥¼ ì´ìš©í•˜ì—¬ ë‚˜ëˆ ì„œ êµ¬í˜„
- í•™ìŠµì— ëŒ€í•œ ê²€ì¦ì€ Validation ë°ì´í„°ë¡œ, ì‹¤ì „ ì •í™•ë„ëŠ” Test ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ Overfittingì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

### â— ë°ì´í„° ì¦ê°• í…Œí¬ë‹‰ ì‚¬ìš©
- `ImageTransform()` í´ë˜ìŠ¤ì˜ `self.data_transform` ì„ ì´ìš©í•˜ì—¬ **Resize / Scale / Flip / Normalize** ë“±ì˜ CVì  Augmentationì„ ì§„í–‰í•˜ì—¬ í•™ìŠµì— ì‚¬ìš©í•˜ì˜€ë‹¤.

### â—ì „ì´í•™ìŠµ (Transfered - Learning)
- **VGG - 16** ëª¨ë¸ì˜ Pre trained Modelì„ ì‚¬ìš©í•˜ì—¬ ë§ˆì§€ë§‰ ë ˆì´ì–´ë§Œ ìš°ë¦¬ê°€ ì›í•˜ëŠ” í˜•íƒœì˜ Input Dataì™€ Labelë¡œ ë°”ê¿”ì„œ ì‚¬ìš©í•¨ìœ¼ë¡œì„œ ì´ë¯¸ ì´ë¯¸ì§€ ë¶„ë¥˜ì— íŠ¹í™”ëœ VGG - 16ì´ ë°©ëŒ€í•œ ì–‘ì˜ ì´ë¯¸ì§€ë¥¼ Classification í•˜ëŠ”ë° ë§Œë“¤ì–´ë‚¸ Weight ë“¤ì„ ì‚¬ìš©í•˜ì—¬ ë¹ ë¥¸ ì†ë„ë¡œ ì¢‹ì€ Accuracyë¥¼ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆë‹¤.

### â— ëª¨ë¸ì„ H5 íŒŒì¼ë¡œ ì €ì¥í•˜ì—¬ Weightë§Œ ì˜ˆì¸¡ì— ì‚¬ìš©
- ê° epoch ë§ˆë‹¤ weight íŒŒì¼ì„ H5 íŒŒì¼ë¡œ ì €ì¥í•˜ê³ , Accuracyì™€ Lossë¥¼ csv í˜•íƒœì˜ logë¡œ ë‚¨ê²¨, ì •í•´ì§„ 50 epochì˜ í•™ìŠµì´ ì¢…ë£Œë˜ë©´ log fileì„ í™•ì¸í•˜ê³  **ì›í•˜ëŠ” Accuracyì™€ Loss**ì— í•´ë‹¹í•˜ëŠ” epochì˜ weight ê°’ì„ ì˜ˆì¸¡ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### â—Flaskë¥¼ ì´ìš©í•œ ì›¹ì„œë²„ êµ¬í˜„
- Python ê¸°ë°˜ì˜ `Flask API`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‰½ê²Œ ì‚¬ìš©ìê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì›¹ ì„œë²„ë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤.
- ì‚¬ìš©ìëŠ” ì›¹ ì‚¬ì´íŠ¸ì— ë“¤ì–´ê°€ ì‚¬ì§„ì„ ì°ê±°ë‚˜, ì—…ë¡œë“œí•  ìˆ˜ ìˆë‹¤.
- ì„œë²„ì˜ ë„ì°©í•œ ì‚¬ìš©ìì˜ ì´ë¯¸ì§€ëŠ” í•™ìŠµëœ ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ì—…ë¡œë“œ ëœ ì‚¬ì§„ì˜ ë¼ë²¨ë§ ì •ë³´ë¥¼ ì·¨ë“í•œë‹¤.
- ë¼ë²¨ë§ ì •ë³´ë¥¼ ì¡°ê±´ë¬¸ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ Label 1 ~ 11ê¹Œì§€ì˜ html ë¬¸ì„œë¡œ ì—°ê²°í•œë‹¤.
- ê° HTML ë¬¸ì„œì—ëŠ” í•´ë‹¹í•˜ëŠ” Labelì˜ ê³µêµ¬ ë° ì†Œìì˜ ì‚¬ìš© ë°©ë²•ê³¼ ì •ë¦¬ ìœ„ì¹˜ê°€ ê¸°ìˆ ë˜ì–´ ìˆë‹¤.